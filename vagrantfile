Vagrant.configure("2") do |config|

  
  config.vm.box = "debian/bullseye64"

  config.vm.provision "ansible" do |ansible|
    ansible.playbook = "ansible/main.yml"
    ansible.inventory_path = "inventory.ini"
  end

  private_net = "192.168.58.0"
  netmask = "255.255.255.0"

  # DNS server
  config.vm.define "dns" do |dns|
    dns.vm.hostname = "dns.example.test"
    dns.vm.network "private_network",
      ip: "192.168.58.10",
      virtualbox__intnet: "private_network_ddns"
  end
 # DHCP server
  config.vm.define "dhcp" do |dhcp|
    dhcp.vm.hostname = "dhcp.example.test"
    dhcp.vm.network "private_network",
      ip: "192.168.58.20",
      virtualbox__intnet: "private_network_ddns"
  end

  # Client (cl)
  config.vm.define "cl" do |cl|
    cl.vm.hostname = "cliente1"
    cl.vm.network "private_network",
      auto_config: false,
      virtualbox__intnet: "private_network_ddns"
  end

end
end